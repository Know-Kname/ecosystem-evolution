# Device-Wide WSL Configuration Template
# Source of Truth for Device Ecosystem Manager
# 
# Placeholders (replaced at sync time):
#   {{MEMORY}}      - Calculated based on system RAM
#   {{PROCESSORS}}  - Calculated based on logical CPUs
#   {{HOSTNAME}}    - Machine hostname
#   {{TIMESTAMP}}   - When config was applied
#
# This file is the canonical configuration. All machines and profiles
# should sync from this template.

[wsl2]
# Memory allocation - dynamically calculated per machine
# Formula: min(max(2GB, 50% of RAM), 16GB)
memory={{MEMORY}}GB

# Processor allocation - dynamically calculated per machine
# Formula: max(2, 80% of logical processors)
processors={{PROCESSORS}}

# Swap file size (fixed across all machines)
swap=4GB

# Enable localhost forwarding (REQUIRED for Docker, dev servers)
localhostForwarding=true

# DNS tunneling (helps with VPN scenarios)
dnsTunneling=true

# Firewall (enable for better security)
firewall=true

# Nested virtualization (disable for stability)
nestedVirtualization=false

# GUI support
guiApplications=true

# Safe mode (disable unless troubleshooting)
safeMode=false

# Debug console
debugConsole=false

[experimental]
# Sparse VHD (reduces disk space usage)
sparseVhd=true

# Auto memory reclaim (returns unused memory to Windows)
autoMemoryReclaim=gradual

# Host address loopback
hostAddressLoopback=true

